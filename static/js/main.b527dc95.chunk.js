(this.webpackJsonpsnp_todo_react=this.webpackJsonpsnp_todo_react||[]).push([[0],{16:function(t,e,o){},17:function(t,e,o){},23:function(t,e,o){"use strict";o.r(e);var n,c,l=o(0),i=o.n(l),r=o(7),a=o.n(r),s=(o(16),o(17),o(11)),d=(o(6),o(2)),u=o(5),b=o(4),j={todos:null!==(n=JSON.parse(localStorage.getItem("todos")))&&void 0!==n?n:[]},f=Object(b.b)({name:"todos",initialState:j,reducers:{deleteToDo:function(t,e){var o=e.payload;t.todos=t.todos.filter((function(t){return t.id!==o.id}))},addToDo:function(t,e){var o=e.payload,n=t.todos,c=Object(u.a)({isComplete:!1},o);n.push(c),t.todos=n},deleteCompletedToDos:function(t){t.todos=t.todos.filter((function(t){return t.isComplete}))},toggleComplete:function(t,e){var o=e.payload;t.todos=t.todos.map((function(t){return t.id===o.id?Object(u.a)(Object(u.a)({},t),{},{isComplete:!t.isComplete}):t}))},editToDoText:function(t,e){var o=e.payload;t.todos=t.todos.map((function(t){return t.id===o.id?Object(u.a)(Object(u.a)({},t),{},{text:o.text}):t}))}}}),m=f.actions,O=f.reducer,p=m.deleteToDo,x=m.addToDo,_=m.deleteCompletedToDos,h=m.toggleComplete,C=m.editToDoText,v=O,g=o(1),N=function(t){var e=Object(l.useState)(!1),o=Object(s.a)(e,2),n=o[0],c=o[1],i=Object(d.b)(),r=Object(l.useCallback)((function(e){i(C({text:e,id:t.id}))}),[i,t.id]),a=Object(l.useCallback)((function(){i(p({id:t.id}))}),[i,t.id]),u=Object(l.useCallback)((function(e){"Enter"!==e.code&&"Escape"!==e.code||(c(!1),r(t.text))}),[r,c,t.text]);return Object(g.jsxs)("li",{type:"none",className:"todo todo_active ".concat(t.isComplete?"todo_complete":"todo_incomplete"),children:[n&&Object(g.jsx)("input",{type:"text",className:"todo__change-label",onChange:function(t){return r(t.target.value)},onBlur:function(){c(!1),r(t.text),t.text.trim()||a()},onKeyDown:u,value:t.text,autoFocus:!0}),!n&&Object(g.jsxs)("div",{className:"todo__container todo__container_active",children:[Object(g.jsx)("button",{className:"button todo__button-complete",onClick:function(){return i(h({id:t.id}))},children:t.isComplete?"Y":"N"}),Object(g.jsx)("div",{className:"todo__text",onDoubleClick:function(){return c(!0)},children:t.text}),Object(g.jsx)("button",{className:"button todo__button-delete",onClick:a,children:"\xd7"})]})]})},k=Object(l.memo)(N),D=function(){var t=Object(d.c)((function(t){return t.todo.todos})),e=Object(d.c)((function(t){return t.todo.todos})).filter((function(t){return t.isComplete})).length,o=Object(d.c)((function(t){return t.filter.filter})),n=[];switch(o){default:n=t;break;case"completed":n=t.filter((function(t){return t.isComplete}));break;case"incompleted":n=t.filter((function(t){return!t.isComplete}))}var c=Object(d.b)();Object(l.useEffect)((function(){return localStorage.setItem("todos",JSON.stringify(t))}),[t]);var i=Object(l.useCallback)((function(t){t.target.value.trim()&&c(x({text:t.target.value,id:Date.now()})),t.target.value=""}),[c]),r=Object(l.useCallback)((function(t){"Enter"===t.code&&i(t)}),[i]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{className:"todo__input",type:"text",placeholder:"What needs to be done",onKeyDown:r}),Object(g.jsx)("ul",{className:"todos ".concat(o),children:n.map((function(t){return Object(g.jsx)(k,{text:t.text,id:t.id,isComplete:t.isComplete},t.id)}))}),Object(g.jsxs)("footer",{className:"footer",children:[Object(g.jsxs)("div",{className:"todos__completed",children:["Completed: ",Object(g.jsx)("span",{className:"completed__number",children:e})]}),0!==e&&Object(g.jsx)("button",{className:"button todo__delete-completed",onClick:function(){return c(_())},children:"Delete completed"})]})]})},T=Object(l.memo)(D),y={filter:null!==(c=localStorage.getItem("filter"))&&void 0!==c?c:"all"},S=Object(b.b)({name:"filter",initialState:y,reducers:{editFilter:function(t,e){var o=e.payload;t.filter=o.filter}}}),F=S.actions,I=S.reducer,w=F.editFilter,E=I,J=function(){var t=Object(d.b)(),e=Object(d.c)((function(t){return t.filter.filter}));Object(l.useEffect)((function(){return localStorage.setItem("filter",e)}),[e]);var o=Object(l.useCallback)((function(e){return t(w({filter:e}))}),[t]);return Object(g.jsxs)("ul",{className:"todos__filters",children:[Object(g.jsx)("li",{className:"filter",children:Object(g.jsx)("button",{className:"button filter__button all ".concat("all"===e?"current":""),onClick:function(){return o("all")},children:"All"})}),Object(g.jsx)("li",{className:"filter",children:Object(g.jsx)("button",{className:"button filter__button completed ".concat("completed"===e?"current":""),onClick:function(){return o("completed")},children:"Completed"})}),Object(g.jsx)("li",{className:"filter",children:Object(g.jsx)("button",{className:"button filter__button incompleted ".concat("incompleted"===e?"current":""),onClick:function(){return o("incompleted")},children:"Incompleted"})})]})},B=Object(l.memo)(J),K=function(){return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("h1",{className:"title",children:"TODOS"}),Object(g.jsx)(B,{}),Object(g.jsx)(T,{})]})},L=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,24)).then((function(e){var o=e.getCLS,n=e.getFID,c=e.getFCP,l=e.getLCP,i=e.getTTFB;o(t),n(t),c(t),l(t),i(t)}))},P=o(3),A=Object(P.b)({todo:v,filter:E}),M=Object(b.a)({reducer:A,devTools:!1});a.a.render(Object(g.jsxs)(d.a,{store:M,children:[Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(K,{})}),","]}),document.getElementById("root")),L()},6:function(t,e,o){}},[[23,1,2]]]);
//# sourceMappingURL=main.b527dc95.chunk.js.map